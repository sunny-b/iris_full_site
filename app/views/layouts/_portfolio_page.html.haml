.wrapper.flex.col.grow-2
  .section.less-space-bottom
    %h3.small.poppins.upcase= page.capitalize
    #carousel.box-shadow.round-corners
      .carousel-inner.fill
        - carousel_images.each_with_index do |img, i|
          - if i.zero?
            .carousel-item.active.fill
              %figure.zero.round-corners.fill
                = image_tag img, class: 'fill round-corners'
          - else
            .carousel-item.fill
              %figure.zero.round-corners.fill
                = image_tag img, class: 'fill round-corners'
      .carousel-control-prev.half
      .carousel-control-next.half
      .carousel-nav.flex.row.btw.box-shadow-top.round-corners
        .carousel-nav-prev.half-w-more-space.a-center
          %a.flex.col.j-center.fill{href: prev[:link]}
            .lite-shadow.hover.round-corners
              = image_tag prev[:image], class: 'fill round-corners block'
            %span.small.poppins.upcase.black-font.gimme-less-space Previous
            %h3.zero.mid.bold.black-font= prev[:name]
        .carousel-nav-next.half-w-more-space.a-center
          %a.flex.col.j-center.fill{href: after[:link]}
            .lite-shadow.hover.round-corners
              = image_tag after[:image], class: 'fill round-corners block'
            %span.small.poppins.upcase.black-font.gimme-less-space Next
            %h3.zero.mid.bold.black-font= after[:name]
  .section.less-space-bottom.text-column
    %h3.small.poppins.upcase Overview
    .copy
      - top_paragraphs.each_with_index do |p, i|
        - if i.zero?
          %p.reading.mid= p.html_safe
        - else
          %p.reading.mid.gimme-less-space= p.html_safe
  - unless secondary_image.empty?
    .section{ class: ("less-space-bottom" unless bottom_paragraphs.empty?) }
      %figure.zero.less-space-bottom.full-size-mobile
        - if /\.mp4/.match(secondary_image)
          = video_tag secondary_image, controls: true, autoplay: false, muted: true, autobuffer: true, class: 'fill round-corners box-shadow'
        - else
          = image_tag secondary_image, class: 'fill round-corners box-shadow'
      .copy.text-column
        - bottom_paragraphs.each_with_index do |p, i|
          - if i.zero?
            %p.reading.mid= p.html_safe
          - else
            %p.reading.mid.gimme-less-space= p.html_safe

  = render 'layouts/other_projects', other_projects: other_projects

:javascript
  new Carousel()
